$Id: !WhatsNew.txt 213 2010-02-03 15:55:37Z Petr $
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[+] Нововведение
[-] Исправлена ошибка
[*] Изменение
[ ] Замечание

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Общие замечания
~~~~~~~~~~~~~~~
[!] Все функции поиска при неудаче должны возвращать 0!

Еще не сделано
~~~~~~~~~~~~~~
[*] Сменит атрибуты (фон, сокорее всего) у "текущих" решений
[-] Сделать работу -stc устойчивой, запуская tc из отдельного потока
[?] В shutdown проверять, пингуются ли клиенты
[?] Проверить работу команды set
[+] Решить что делать, чтобы перетещивать можно было просто копированием решения в sols_acm //проверять все решения из каталога sols_acm
[+] Учесть FirstWA и добавть mode FirstWA
[-] Учесть необходимость settextbuf и возможность блокирования записи
[-] Нельзя при загрузке таблицы в ACM переносить неизвестные сабмиты, т.к. собьется 
           соответствие с именами файлов
[-] Увеличить допустимую длину комментария к тесту
[-] При большом к-ве решений, устанавливаемых в очередь, и TC, запущенном на том же компе, 
    есть риск получить IL / IL у verifier
[-] Может быть баг с Esc в последний момент тестирования
[!] Решить с правами на файлы в RUN launcher
[+] Добавить retest в ACM mode
[*] Сделать обобщенные evaluator'ы
[+] Добавить возможность просмотра TestQueue и удаления заданий из нее
[*] Нужно адаптировать команду IDE, чтобы получать данный тест
[+] Добавить аргумент SYNCHRO в testmask
[+] Подумать над контекстным меню у сервера и TC
[-] Не сворачивается, если тормозить с загрузкой
? м.б. рабобраться с rev, чтобы в репозиторий правильный ije_rev.pas шел!
[-] баги при простое (NIS)
[*] Выводить окошко у TC с запросом как выходить только если сечас идет тестирование (иначе 
       выходить сразу)
[*] Переделать cutHelp, чтобы оставляла часть начала и часть конца
[-] Глючит при убивание log-файла
[-] Баги при тестировании нулевой задачи (NNDOI_09)
[+] TC: Как-нибудь предупрежать о высокой посторонней загрузке процессора
[-] CD без параметров глючит
[-] Глючит при отсутствии каталога testdir

Версия 5.0
~~~~~~~~~~
Еще не добавлены команды

'QACM'

?'IDE'
?'HINT'

[+]r213 ShowTest: суммарные баллы выводятся крупно
[+]r211 Добавлена поддержка джавы и других языков с нетривиальной командой запуска
[+]r210 Выделил testlib_lite_pack, который компилируется fpc (add\testlib_lite_pack)
[+]r206 Сделал файл настройки Run Launcher'а; там можно настраивать все, что нужно и не настраивается больше нигде 
          (а именно, пока пользователи и use-default-desktop). В частности, теперь должно бы работать не под админом.
[*]r204 Странно работало, если путь в showtest не существовал (теперь вообще не работает, но адекватно ругается :) ) (спасибо ZOU)
[-]r203 Исправлен баг Windows Error 10060 при работе без сети (т.е. на 127.0.0.1)
[*]r192 Сделан unit testlib; теперь в большинстве случаев чекеры можно не переписывать
[+]r166 Добавлена команду Restart
[+]r165 Добавлена команду ShutDown
[*]r164 Список решений в UI_C теперь выводится в виде таблички
[+]r162 Добавлены параметры по умолчанию, указываемые в файле ije_cfg.xml
[+]r161 Теперь при нажатии Ctrl-C в консоли и щелчку по крестику в TC он спрашивает, что вы 
               хотите сделать (только может вылететь Windows'кое окно "Завершить сейчас?").
[+]r159 Добавлена команда KILLTASK
[+]r156 ShowTest теперь выключает ScreenSaver на время своей работы
[+]r156 Теперь везде в IJE в качестве разделителя целой и дробной части используется точка
[*]r154 Сделан корректный вывод в консоль у чекеров: теперь чекеры могут быть написаны в любой 
          кодировке, в .xml они будут выводить в cp1251, в консоль --- в cp866.
[-]r153 Теперь необязательные функции из dll загружаются и обрабатываются корректно
[-]r152 Некорректно работало/могло работать возвращение exception из dll из-за слишком раннего 
        освобождения dll (спасибо NIS). В частности, глючил RUN launcher при отсутствии файла 
        run_dll.dll
[!]r151 IJE 5.0 RC 1
[+]r151 Нарисован значок в ShowTest для PC
[-]r150 Вроде данные в ShowTest грузятся из каталога archive в правильном порядке
[*]r142 Отныне память мериется в байтах. Т.к. не понятно, в чем мериет память RUN tir_s, он 
               теперь вообще не возвращает память, использованную программой (возвращает -1)
[*]r142 Теперь основным RUN является RUN launcher Copyright (c) 2006, Roman Timushev
[+]r139 Теперь Idle-Limit и Idle-Percent настраиваются в ije_cfg.xml
[+]r138 Добавлен режим AutoAdd, в котором неизвестные участники автоматически добавляются.
[*]r137 Изменен формат Report'ов; теперь они генерируются плагинами.
[*]r131 Теперь команды addboy и addtask доступны даже вне режима Realtetsing
[+]r130 Добавлена команда rLoad, эквивалентная load + mode add realtesting. Теперь обычное 
             load убирает mode realtesting
[*]r129 Полностью переписаны плагины
[-]r127 Некорректно освобождались плагины
[+]r124 Добавлена команда ABOUT
[*]r99  Команды COMPILE и TEST объединены в команду CT = TEST; соотв., изменен формат 
             параметров у нее
[*]r96  Теперь у команды Restore _допускаются_ звездочки в масках
[+]r95  Теперь Archive сама создает все нужные каталоги
[*]r70  Теперь у Load _первый_ параметр (имя dll'ки) необязателен; теперь SaveTable создает 
             файлы в нижнем регистре.
[*]r50  В отдельный файл выделен unit tc_main с процедурами для tc.
[ ]r43  ВРОДЕ РАБОТАЕТ TC
[+]r30  Evaluator теперь может добавлять комментарии
[+]r31  Добавлены PC
[*]     Будут учтены изменения с NNOI'05, основное: заменены boy на contestant в сообщениях и
          при тестировании даем права evaluator'у (раньше забывали дать)
[*]r39  Теперь IJE работает в кодировке Windows-1251 везде, кроме вывода текста в консоль.
[-]     Теперь закрываю handles процесса и нити в exec.
[*]     Теперь Unit crt32 использует GetConsoleWindow; это должно не работать до Win2000.
[+]     Теперь у лог-сообщений есть log-level; в log-файл пишется только сообщения с 
          log-level <= заданного параметром '-ll', по умолчанию --- var MaxLogLevel:integer=LOG_LEVEL_MAJOR;
[+]r1   Теперь используем SVN; вместо build'ов будем считать rev'ы :)

Версия 4.4
~~~~~~~~~~
[+] Теперь у IJE считаются build'ы. Build 1 --- от 19.12.2005
[+] Теперь при тестировании IJE отображает на экране время и сохраняет в report время и память, 
       использованные программой. Пока не понятно, в чем мериется память.

Версия 4.3
~~~~~~~~~~
[*] Установлен новый run tir_s
[+] Теперь IJE при запуске проверяет размер ije.log, и, если он больше 512K, предлагает потереть его.
[+] По многочисленным просьбам добавлена команда ct = compile + test
[-] Исправлен баг, когда в приглашении неверно отображались состояния задач
[+] написал qdll kirov, переписал ijeml_http для поддержки произвольных qdll
[*] qACM_ACM: Теперь в submits.xml можно писать сабмиты за виртуальные команды, и они 
              будут добавляться по ходу контеста
[*] Теперь работает QACM-режим вместо ACM
[*] Run Dll tir_4 и tir_old переписаны, чтобы соотв. требованиям IJE v4.0
[*] Теперь IJE выводит свою версию в acm monitor
[*] Теперь в файле ije_cfg.xml в теге language рекомендуется писать id вместо extension
[*] Убран unit ijemldll; нужные из него типы перенесены в unit xmlije
[*] IJEC: Теперь, в связи с многочисленными изменениями в IJE, IJEC с работой через файлы 
          не поддерживается и убран из каталога add; соответственно, убраны каталоги requests и т.п.;
          кроме того, из acm.xml убраны параметры типа home-dir


Версия 4.0
~~~~~~~~~~
[*] Теперь IJE компилируется Borland Delphi 7.0
[*] Полностью переделан log
[*] Теперь в IJE нет стандартной table dll "table_coded.dll"
[*] Исходники IJE довольно сильно переписаны; в т.ч. сейчас все работает через exception
[*] Теперь команде test можно задавать набор тестов в более свободном виде, например, [1-3],[5..6],8,10-11,13..15
[*] Процедура exec теперь принимает другие параметры
[*] Теперь формат названия задачи задается в файле ije_cfg.xml. Надеюсь, что работает
[+] Теперь, если параметр команды начинается на `, то этот символ удаляется из параметра. В частности,
      можно задавать пустые параметры.
[*] Теперь каждая RunDll должна называться run.dll, а в соотв. параметре файла ije_cfg.xml 
       указывается каталог, где лежит этот файл (относительно каталога dll\run).
[*] Массив compiled убран; массив tested теперь используется только процедурой testmask
[*] Теперь каждый элемент таблицы результатов --- record, а не таблица; 
       количество баллов теперь имеет тип word
[*] Теперь все, что называлось arhive, переименовано в archive
[*] Теперь все настройки находятся в переменной cfg; все остальные переменные с настройками убраны.

Версия 3.7
~~~~~~~~~~
[*] ShowTest: Теперь ShowTest работает в полноэкранном режиме
[+] IJEC,IJEML: Теперь все ACM-программы работают через сокеты (ijeml_s,ijec_s); 
      соответственно, это более надежно; старые версии --- ijeml и ijec

Версия 3.6
~~~~~~~~~~
[*] Теперь основным является RUN by Timushev Roman через сервис (tir_s), позволяющий 
      запускать программы под другим пользователем
[+] Написана IJE lite
[*] Теперь основным является RUN by Timushev Roman (tir)
[+] Добавлен evaluator
[+] Добавлены макросы
[+] Теперь IJE создает lock-файл и, если при запуске находит его, то сообщает об этом.
[*] Теперь в autotest в режиме realtesting после каждой задачи делается autosave
[-] Исправлена и переписана процедура testmask
[+] ShowTest: Написан демонстратор тестирования

Версия 3.5 и ранее
~~~~~~~~~~~~~~~~~~
[+] В acm теперь нажатием s можно приостановить тестирование
[+] Написан rundll
[*] Информация о reports пишется в xml
[+] Добавлен режим RealTesting, без которого нельзя архивировать, сохранять таблицу и сохранять reports
[+] Добавлена команда mode
[+] Добавлена работа с DLL при сохранении таблицы
[*] Теперь данные о тестах в таблице на хранятся
[-] RE определялось по выводу программы => иногда глючило (вроде исправлено)
[+] IJEC, IJEML: Написан IJE Client и все, что к нему причитается (все alpha-версия)
[-] Не всегда (напр., не в 98) работал '>COMPILE.LOG', теперь вроде работает
[+] Добавлен в acm submits comment
[*] Переделана procedure wexec, теперь она называется exec
[+] Вроде бы работает поддержка нескольких компиляторов
[-] Из-за повторных lookup глючило тестирование нескольких решений сразу в ACM MODE
[*] Все процедуры из ije.dpr выделены в unit ije_main
[*] Все процедуры, которые относятся к acm, вынесены в unit acm
[-] Copyfile глючил при копировании файла на себя
[*] Написан свой crt32

--------------------------
